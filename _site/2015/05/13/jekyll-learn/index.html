
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>jekyll</title>
    <meta name="description" content="">
    <meta name="author" content="yuandaima">

    <!-- Enable responsive viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="/assets/themes/twitter/bootstrap/css/bootstrap.2.2.2.min.css" rel="stylesheet">
    <link href="/assets/themes/twitter/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">
    <link href="/assets/themes/twitter/css/prettify.css" rel="stylesheet" type="text/css">
    <script src="/assets/themes/twitter/js/prettify.js"></script>
    <!-- Le fav and touch icons -->
  <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->

    <!-- atom & rss feed -->
    <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">
    
<!--    font-awesome-->
<link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
  
  </head>

  <body onload="prettyPrint()">
    <div class="navbar">
      <div class="navbar-inner">
       <div class="nav-narrow">
          <a class="brand" href="/"><span class="fa fa-mortar-board (alias)">yuandaima</span></a>
          <ul class="nav">
            
            
            


  
    
      
      	
      	<li><a href="/archive.html">文章</a></li>
      	
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/categories.html">分类</a></li>
      	
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/pages.html">页面</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/tags.html">标签</a></li>
      	
      
    
  



          </ul>
        </div>
      </div>
    </div>

    <div class="container-narrow">

      <div class="content">
        
<!--
<div class="page-header">
  <h1>jekyll </h1>
</div>
-->
 

<div class="row-fluid post-full">
  <div class="span12 ">
    <div class="content card">
        <div class="date_label">
          <div class="day_month">
          05/13
          </div>
          <div class="year">
          2015
          </div>
        </div>
      <h1>搭建Github Pages</h1>

<hr />

<p>　喜欢写Blog的人，会经历三个阶段:</p>

<ul>
<li><p>第一阶段，刚接触Blog，觉得很新鲜，试着选择一个免费空间来写。</p></li>
<li><p>第二阶段，发现免费空间限制太多，就自己购买域名和空间，搭建独立博客。</p></li>
<li><p>第三阶段，觉得独立博客的管理太麻烦，最好在保留控制权的前提下，让别人来管，自己只负责写文章。</p></li>
</ul>


<!--break-->


<p>  大多数Blog作者，都停留在第一和第二阶段，因为第三阶段不太容易到达：你很难找到俯首听命、愿意为你管理服务器的人。</p>

<p><img src="http://image.beekka.com/blog/201208/bg2012082501.jpg" alt="robot" /></p>

<p>  但是两年前，情况出现变化，一些程序员开始在ｇithub网站上搭建blog。他们既拥有绝对管理权，又享受github带来的便利—-不管何时何地，只要向主机提交commit，就能发布新文章。更妙的是，这一切还是免费的，github提供无限流量，世界各地都有理想的访问速度。</p>

<p>  今天，我就来示范如何在github上搭建Blog，你可以从中掌握github的Pages功能，以及Jekyll软件的基本用法。更重要的是，你会体会到一种建立网站的全新思路。</p>

<p><img src="http://image.beekka.com/blog/201208/bg2012082502.jpg" alt="robot" /></p>

<h4><strong>一、Github Pages 是什么？</strong></h4>

<p>如果你对编程有所了解，就一定听说过github。它号称程序员的Facebook，有着极高的人气，许多重要的项目都托管在上面。</p>

<p>简单说，它是一个具有版本管理功能的代码仓库，每个项目都有一个主页，列出项目的源文件。</p>

<p><img src="http://image.beekka.com/blog/201208/bg2012082503.jpg" alt="robot" /></p>

<p>但是对于一个新手来说，看到一大堆源码，只会让人头晕脑涨，不知何处入手。他希望看到的是，一个简明易懂的网页，说明每一步应该怎么做。因此，github就设计了Pages功能，允许用户自定义项目首页，用来替代默认的源码列表。所以，github Pages可以被认为是用户编写的、托管在github上的静态网页。</p>

<p><img src="http://image.beekka.com/blog/201208/bg2012082504.jpg" alt="robot" /></p>

<p>github提供模板，允许站内生成网页，但也允许用户自己编写网页，然后上传。有意思的是，这种上传并不是单纯的上传，而是会经过Jekyll程序的再处理。</p>

<h4><strong>二、Jekyll是什么？</strong></h4>

<p>Jekyll（发音/'dʒiːk əl/，"杰克尔"）是一个静态站点生成器，它会根据网页源码生成静态文件。它提供了模板、变量、插件等功能，所以实际上可以用来编写整个网站。</p>

<p><img src="http://image.beekka.com/blog/201208/bg2012082505.jpg" alt="robot" /></p>

<p>整个思路到这里就很明显了。你先在本地编写符合Jekyll规范的网站源码，然后上传到github，由github生成并托管整个网站。</p>

<p>这种做法的好处是：</p>

<ul>
<li><p>免费，无限流量。</p></li>
<li><p>享受git的版本管理功能，不用担心文章遗失。</p></li>
<li><p>你只要用自己喜欢的编辑器写文章就可以了，其他事情一概不用操心，都由github处理。</p></li>
</ul>


<p>它的缺点是：</p>

<ul>
<li><p>有一定技术门槛，你必须要懂一点git和网页开发。</p></li>
<li><p>它生成的是静态网页，添加动态功能必须使用外部服务，比如评论功能就只能用disqus。</p></li>
<li><p>它不适合大型网站，因为没有用到数据库，每运行一次都必须遍历全部的文本文件，网站越大，生成时间越长。</p></li>
</ul>


<p>但是，综合来看，它不失为搭建中小型Blog或项目主页的最佳选项之一。</p>

<h4><strong>三、一个实例</strong></h4>

<p>下面，我举一个实例，演示如何在github上搭建blog，你可以跟着一步步做。为了便于理解，这个blog只有最基本的功能。</p>

<p>在搭建之前，你必须已经安装了git，并且有github账户。</p>

<h4><strong>第一步，创建项目。</strong></h4>

<p>在你的电脑上，建立一个目录，作为项目的主目录。我们假定，它的名称为jekyll_demo。</p>

<pre><code>   $ mkdir jekyll_demo
</code></pre>

<p>对该目录进行git初始化。</p>

<pre><code>   $ cd jekyll_demo
　 $ git init
</code></pre>

<p>然后，创建一个没有父节点的分支gh-pages。因为github规定，只有该分支中的页面，才会生成网页文件。</p>

<pre><code>　  $ git checkout --orphan gh-pages
</code></pre>

<p>以下所有动作，都在该分支下完成。</p>

<h4><strong>第二步，创建设置文件。</strong></h4>

<p>在项目根目录下，建立一个名为_config.yml的文本文件。它是jekyll的设置文件，我们在里面填入如下内容，其他设置都可以用默认选项，具体解释参见官方网页。</p>

<pre><code>　  baseurl: /jekyll_demo
</code></pre>

<p>目录结构变成：</p>

<pre><code>　 /jekyll_demo
　　　　|--　_config.yml
</code></pre>

<h4><strong>第三步，创建模板文件。</strong></h4>

<p>在项目根目录下，创建一个_layouts目录，用于存放模板文件。</p>

<pre><code>　&lt;!DOCTYPE html&gt;

　　&lt;html&gt;

　　  &lt;head&gt;

　　　　 &lt;meta http-equiv="content-type" content="text/html; charset=utf-8" /&gt;

　　　　 &lt;title&gt;jekyll&lt;/title&gt;

　　  &lt;/head&gt;

　　  &lt;body&gt;
　　　   　 content
　  　&lt;/body&gt;

　　&lt;/html&gt;
</code></pre>

<p>Jekyll使用Liquid模板语言，jekyll表示文章标题，表示文章内容，更多模板变量请参考官方文档。</p>

<p>目录结构变成：</p>

<pre><code>   /jekyll_demo
　　　  　|--　_config.yml
　　　  　|--　_layouts
　　　　  |　　　|--　default.html 
</code></pre>

<h4><strong>第四步，创建文章。</strong></h4>

<p>回到项目根目录，创建一个_posts目录，用于存放blog文章。</p>

<pre><code>   $ mkdir _posts
</code></pre>

<p>进入该目录，创建第一篇文章。文章就是普通的文本文件，文件名假定为2012-08-25-hello-world.html。(注意，文件名必须为"年-月-日-文章标题.后缀名"的格式。如果网页代码采用html格式，后缀名为html；如果采用markdown格式，后缀名为md。）</p>

<pre><code>   ---
　　 layout: default
　　 title: 你好，世界
　　---

　　 &lt;h2&gt;jekyll&lt;/h2&gt;

　　 &lt;p&gt;我的第一篇文章&lt;/p&gt;

　　 &lt;p&gt;13 May 2015&lt;/p&gt;
</code></pre>

<p> 每篇文章的头部，必须有一个yaml文件头，用来设置一些元数据。它用三根短划线"---"，标记开始和结束，里面每一行设置一种元数据。"layout:default"，表示该文章的模板使用_layouts目录下的default.html文件；"title: 你好，世界"，表示该文章的标题是"你好，世界"，如果不设置这个值，默认使用嵌入文件名的标题，即"hello world"。</p>

<p>在yaml文件头后面，就是文章的正式内容，里面可以使用模板变量。jekyll就是文件头中设置的"你好，世界"，2015-05-13 00:00:00 -0700则是嵌入文件名的日期（也可以在文件头重新定义date变量），"| date_to_string"表示将page.date变量转化成人类可读的格式。</p>

<p>目录结构变成：</p>

<pre><code>   /jekyll_demo
　　　   　|--　_config.yml
　　　   　|--　_layouts
　　　   　|　　　|--　default.html
　　　   　|--　_posts
　　　　   |　　　|--　2012-08-25-hello-world.html
</code></pre>

<h4><strong>第五步，创建首页。</strong></h4>

<pre><code>   ---
　　 layout: default
　　 title: 我的Blog
　　---
   &lt;h2&gt;jekyll&lt;/h2&gt;
　　   &lt;p&gt;最新文章&lt;/p&gt;
　　  &lt;ul&gt;
　　　 　
　　　　　   &lt;li&gt;15 May 2015 &lt;a href="/2015/05/15/redis-guide"&gt;Redis入门指南&lt;/a&gt;&lt;/li&gt;
　　　   　
　　　　　   &lt;li&gt;14 May 2015 &lt;a href="/2015/05/14/web-engineer"&gt;前端工程师&lt;/a&gt;&lt;/li&gt;
　　　   　
　　　　　   &lt;li&gt;14 May 2015 &lt;a href="/2015/05/14/redis-learn"&gt;redis&lt;/a&gt;&lt;/li&gt;
　　　   　
　　　　　   &lt;li&gt;13 May 2015 &lt;a href="/2015/05/13/jekyll-learn"&gt;jekyll&lt;/a&gt;&lt;/li&gt;
　　　   　
　　　　　   &lt;li&gt;01 May 2015 &lt;a href="/2015/05/01/sort-algorithm"&gt;各种排序算法总结&lt;/a&gt;&lt;/li&gt;
　　　   　
　　　　　   &lt;li&gt;24 Jan 2015 &lt;a href="/2015/01/24/goodjob"&gt;Goodjob&lt;/a&gt;&lt;/li&gt;
　　　   　
　　　　　   &lt;li&gt;20 May 2014 &lt;a href="/2014/05/20/collect_color"&gt;收藏颜色&lt;/a&gt;&lt;/li&gt;
　　　   　
　　　　　   &lt;li&gt;10 May 2014 &lt;a href="/2014/05/10/template"&gt;Template&lt;/a&gt;&lt;/li&gt;
　　　   　
　　　　　   &lt;li&gt;03 May 2014 &lt;a href="/2014/05/03/view_render"&gt;view传递context的方式&lt;/a&gt;&lt;/li&gt;
　　　   　
　　　　　   &lt;li&gt;27 Apr 2014 &lt;a href="/2014/04/27/install-jekyll"&gt;install jekyll 流程&lt;/a&gt;&lt;/li&gt;
　　　   　
　　　　　   &lt;li&gt;25 Apr 2014 &lt;a href="/2014/04/25/python-code"&gt;python list的技巧&lt;/a&gt;&lt;/li&gt;
　　　   　
　　　　　   &lt;li&gt;24 Apr 2014 &lt;a href="/2014/04/24/directory"&gt;jekyll加载图片的路径问题&lt;/a&gt;&lt;/li&gt;
　　　   　
　　　　　   &lt;li&gt;23 Apr 2014 &lt;a href="/2014/04/23/finish-jekyll"&gt;对5天来关于jekyll的心得&lt;/a&gt;&lt;/li&gt;
　　　   　
　　　　　   &lt;li&gt;23 Apr 2014 &lt;a href="/2014/04/23/chinese-messy-code"&gt;解决invalid byte sequence in GBK&lt;/a&gt;&lt;/li&gt;
　　　   　
　　　　　   &lt;li&gt;21 Apr 2014 &lt;a href="/2014/04/21/future"&gt;后智能手机时代&lt;/a&gt;&lt;/li&gt;
　　　   　
　　　　　   &lt;li&gt;20 Apr 2014 &lt;a href="/2014/04/20/githubpages"&gt;GitHub基础入门&lt;/a&gt;&lt;/li&gt;
　　　   　
　　　　　   &lt;li&gt;12 Jan 2013 &lt;a href="/2013/01/12/prime"&gt;js-算出某值以内的质数&lt;/a&gt;&lt;/li&gt;
　　　   　
　  　&lt;/ul&gt;
</code></pre>

<p>它的Yaml文件头表示，首页使用default模板，标题为"我的Blog"。然后，首页使用了 % for post in site.posts %，表示对所有帖子进行一个遍历。这里要注意的是，Liquid模板语言规定，输出内容使用两层大括号，单纯的命令使用一层大括号。至于 site.baseurl 就是_config.yml中设置的baseurl变量。</p>

<p>目录结构变成：</p>

<pre><code>   /jekyll_demo
　　　　   |--　_config.yml
　　　　   |--　_layouts
　　　　   |　　　|--　default.html
　　　   　|--　_posts
　　　   　|　　　|--　2012-08-25-hello-world.html
　　　   　|--　index.html
</code></pre>

<h4><strong>第六步，发布内容。</strong></h4>

<p>现在，这个简单的Blog就可以发布了。先把所有内容加入本地git库。
有了文章以后，还需要有一个首页。</p>

<pre><code>   　$ git add .

　　 $ git commit -m "first post"
</code></pre>

<p>然后，前往github的网站，在网站上创建一个名为jekyll_demo的库。接着，再将本地内容推送到github上你刚创建的库。注意，下面命令中的username，要替换成你的username。</p>

<pre><code>    $ git remote add origin https://github.com/username/jekyll_demo.git

　　 $ git push origin gh-pages
</code></pre>

<p>上传成功之后，等10分钟左右，访问http://username.github.com/jekyll_demo/就可以看到Blog已经生成了（将username换成你的用户名）。</p>

<p>首页：</p>

<p><img src="http://image.beekka.com/blog/201208/bg2012082506.jpg" alt="robot" /></p>

<p>文章页面：</p>

<p><img src="http://image.beekka.com/blog/201208/bg2012082507.jpg" alt="robot" /></p>

<h4><strong>第七步，绑定域名。</strong></h4>

<p>如果你不想用 http://username.github.com/jekyll_demo/ 这个域名，可以换成自己的域名。</p>

<p>具体方法是在repo的根目录下面，新建一个名为 CNAME 的文本文件，里面写入你要绑定的域名，比如 example.com 或者 xxx.example.com。</p>

<p>如果绑定的是顶级域名，则DNS要新建一条A记录，指向 204.232.175.78。如果绑定的是二级域名，则DNS要新建一条CNAME记录，指向 username.github.com（请将username换成你的用户名）。此外，别忘了将 _config.yml 文件中的 baseurl 改成根目录"/"。</p>

<p>至此，最简单的Blog就算搭建完成了。进一步的完善，请参考Jekyll创始人的示例库，以及其他用Jekyll搭建的blog。</p>

<p>（完）</p>

    </div>

 
<!--
    <ul class="tag_box inline ">
      <li><i class="icon-folder-open"></i></li>
      
      


  
     
    	<li><a href="/categories.html#技术分享-ref">
    		技术分享 <span>9</span>
    	</a></li>
    
  


    </ul>
    

  
    <ul class="tag_box inline ">
      <li><i class="icon-tags"></i></li>
      
      


  
     
    	<li><a href="/tags.html#jekyll blog-ref">jekyll blog <span>2</span></a></li>
    
  



    </ul>
    -->
    
    <div class="pagination clearfix">
      <ul class = "pull-right">
      
        <li class="prev"><a class="fa fa-arrow-circle-left" href="/2015/05/01/sort-algorithm" title="各种排序算法总结"> 前一篇</a></li>
      
        <li><a class="fa fa-th" href="/archive.html"> 所有日志</a></li>
      
        <li class="next"><a  href="/2015/05/14/redis-learn" title="redis">后一篇 <span class="fa fa-arrow-circle-right">  </span></a></li>
      
      </ul>
    </div>
    
    


  <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_developer = 1;
    var disqus_shortname = 'jekyllbootstrap'; // required: replace example with your forum shortname
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>




  </div>
</div>


      </div>
      
      <footer class="card clearfix">
        <span style="font-size:30px;"class="fa fa-github pull-left"></span><a href="https://github.com/enml/blog/tree/jekyll-blog" style="display:inline-block;padding-right:80px;border-right:1px solid #bbb">fork me on GitHub</a>
        <p class="pull-right">&copy; 2011 yuandaima
          with help from <a href="http://jekyllbootstrap.com" target="_blank" title="The Definitive Jekyll Blogging Framework">Jekyll Bootstrap</a>
          and <a href="http://twitter.github.com/bootstrap/" target="_blank">Twitter Bootstrap</a>
        </p>
        
      </footer>

    </div>

    
  </body>
</html>

